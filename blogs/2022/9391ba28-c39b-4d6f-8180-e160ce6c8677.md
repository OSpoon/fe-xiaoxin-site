---
title: ã€æŠ“åŒ…ã€‘é’èŠ±ç“·å®æˆ˜æ•™ç¨‹â‘¡
date: '2022-06-01 21:10'
sidebar: 'auto'
categories:
 - 
tags:
 - 
---

:::tip
æ”¯æŒHTTPSåŒ…è§£æ
:::

<!-- more -->

## å‰è¨€
------

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯[å°é‘«åŒå­¦](https://it200.cn/ "https://it200.cn/")ã€‚ä¸€ä½ä»äº‹è¿‡**Androidå¼€å‘**ã€**æ··åˆå¼€å‘**ï¼Œç°åœ¨é•¿æœŸä»äº‹**å‰ç«¯å¼€å‘**çš„ç¼–ç¨‹çˆ±å¥½è€…ï¼Œ**æˆ‘è§‰å¾—åœ¨ç¼–ç¨‹ä¹‹è·¯ä¸Šæœ€é‡è¦çš„æ˜¯çŸ¥è¯†çš„åˆ†äº«ï¼Œæ‰€è°“ä¸‰äººè¡Œå¿…æœ‰æˆ‘å¸ˆ**ã€‚æ‰€ä»¥æˆ‘å¼€å§‹åœ¨ç¤¾åŒºæŒç»­è¾“å‡ºæˆ‘æ‰€äº†è§£åˆ°ã€å­¦ä¹ åˆ°ã€å·¥ä½œä¸­é‡åˆ°çš„å„ç§ç¼–ç¨‹çŸ¥è¯†ï¼Œæ¬¢è¿æœ‰æƒ³æ³•ã€æœ‰åŒæ„Ÿçš„ä¼™ä¼´åŠ æˆ‘[fe-xiaoxin](https://it200.cn/ "https://it200.cn/")å¾®ä¿¡äº¤æµ~

## æ”¯æŒHTTPSåŒ…è§£æï¼š

&ensp;&ensp;&ensp;&ensp; ä¸‹é¢è¿™å¼ å›¾å¯ä»¥çœ‹çš„å‡ºæ¥æ‹¦æˆªçš„åˆ°è¯·æ±‚ä¿¡æ¯æç¤º **SSL Proxying not enabled for this host: enable in Proxy Settings, SSL locations**ï¼Œè®©æˆ‘ä»¬è¦ä¸º juejin.cn åœ¨ä»£ç†è®¾ç½®ä¸­å¯ç”¨ï¼Œå¹¶ä¸”åœ¨ Contents ä¸­æ˜¾ç¤ºçš„ä¹Ÿæ˜¯ä¹±ç ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/75284cd665134222a13b08fa853c1b26~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/06041688fcdc457984da8f2f8f7c7e2e~tplv-k3u1fbpfcp-zoom-1.image)

### è®¾ç½®æ­¥éª¤ï¼š

1.  å®‰è£… HTTPS è¯ä¹¦åˆ° macOS ï¼šã€helpã€‘=> ã€SSL Proxyã€‘=> ã€Install Charles Root Certificateã€‘ï¼›
2.  å¯åŠ¨ SSL æŠ“åŒ…ã€![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e1926ae88f5466c9e637ab86704c3d6~tplv-k3u1fbpfcp-zoom-1.image)ã€‘ï¼Œä¸Šä¸€èŠ‚çš„å¿«æ·èœå•æœ‰æåˆ°ï¼Œæˆ–è€…åœ¨ã€Proxyã€‘=>ã€Start SSL Proxyingã€‘ï¼›
3.  æ”¯æŒç‰¹å®šæˆ–æ‰€æœ‰åœ°å€ï¼šåœ¨ã€Proxyã€‘=>ã€SSL Proxying Settingsã€‘ä¸­çš„ã€SSL Proxyingã€‘é¡µç­¾å¢åŠ ä¸€æ¡å…¥å£ Location ï¼Œè¿™é‡Œå¯ä»¥é…ç½®å›ºå®šçš„åŸŸåæˆ–ç«¯å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€šé…ç¬¦æ¥åŒ¹é…ä¸€ç±»æ‰€æ‰€æœ‰ï¼Œå¦‚ä¸‹é…ç½®å°±æ˜¯æ‰€æœ‰ 443 ç«¯å£çš„åœ°å€å‡æ”¯æŒï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/11929aa1e735413abbd94977ce2f8559~tplv-k3u1fbpfcp-zoom-1.image)

è¿™ä¸ªæ—¶å€™é‡æ–°æ‹¦æˆªåˆ°çš„è¯·æ±‚å°†å¯ä»¥çœ‹åˆ°çœŸå®çš„å†…å®¹äº†ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f85e0d3772b4849967ddde0c87debff~tplv-k3u1fbpfcp-zoom-1.image)

## æ”¯æŒæ–­ç‚¹è°ƒè¯•ï¼š

### å¯åŠ¨æ–­ç‚¹è°ƒè¯•ï¼š

&ensp;&ensp;&ensp;&ensp;åœ¨å¿«æ·èœå•åŒºåŸŸæ‰“å¼€![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23fc402beb104d7db1373c0f533c3d78~tplv-k3u1fbpfcp-zoom-1.image)ï¼Œå¹¶é€‰ä¸­å¾…æ–­ç‚¹çš„è¯·æ±‚ååœ¨å³é”®èœå•ä¸­å‹¾é€‰æ–­ç‚¹èœå•é¡¹ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a21718bb96074ed6b51af424c206623b~tplv-k3u1fbpfcp-zoom-1.image)

å½“æˆ‘ä»¬é€‰ä¸­çš„æ¥å£å†æ¬¡è§¦å‘åå°±ä¼šè·³è½¬åˆ°äº†è°ƒè¯•çš„çª—å£ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/61698f78dc674295a6179132cbbc6865~tplv-k3u1fbpfcp-zoom-1.image)

&ensp;&ensp;&ensp;&ensp;åœ¨è°ƒè¯•çš„çª—å£æˆ‘ä»¬å¯ä»¥å¯¹å‘é€å‡ºå»çš„å‚æ•°è¿›è¡Œè°ƒæ•´ï¼Œå¹¶æµ‹è¯•æ¥å£æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œæˆ–æ¥å£çŠ¶æ€æƒ…å†µã€‚å½“æˆ‘ä»¬æ‰‹åŠ¨è§¦å‘æ‰§è¡Œçš„èœå•åï¼Œè¯·æ±‚è¢«æ­£å¸¸å‘é€å‡ºå»ã€‚ä¸Šå›¾æ˜¯é¢„è¯·æ±‚çš„æˆªå›¾ï¼Œå½“åˆ° POST è¯·æ±‚å¹¶æ‰‹åŠ¨è§¦å‘æ‰§è¡Œå‘å‡ºè¯·æ±‚åï¼Œå“åº”ä¼šå†æ¬¡è§¦å‘æˆ‘ä»¬çš„è°ƒè¯•çª—å£ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da1cb60de7d04976b1c3f48ff5890577~tplv-k3u1fbpfcp-zoom-1.image)

åŒæ ·æˆ‘ä»¬å¯ä»¥æ‰‹å·¥ç¼–è¾‘å“åº”çš„å†…å®¹å¹¶å†æ¬¡è§¦å‘æ‰§è¡Œå°†å“åº”çš„å†…å®¹äº¤ç»™é¡µé¢å»åšæ˜¾ç¤ºã€‚

## æœ¬åœ°èµ„æºä»£ç†ï¼š

&ensp;&ensp;&ensp;&ensp;åœ¨å‰é¢çš„æ–‡ç« ä¸­æœ‰æåˆ°ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œæˆ‘ä»¬è¿˜åšäº†ä¸€æ¬¡ç®€å•çš„æ‰©å±•ï¼Œå°±æ˜¯æ‹¦æˆªæˆ‘ä»¬å¼€å‘ä¸­çš„è¯·æ±‚ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªå›ºå®šçš„å“åº”ç»“æœè¿”å›ç»™é¡µé¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥æš‚æ—¶è„±è½æœåŠ¡å™¨çš„å“åº”æ•°æ®æ¥è°ƒè¯•é¡µé¢çš„ç‰¹å®šæ•°æ®ä¸‹çš„é—®é¢˜ï¼ŒåŸæ¥ä¾ç„¶æ˜¯æ‹¦æˆªè¯·æ±‚ï¼Œå…¶å®å°±æ˜¯ä»£ç†ã€‚

Charles ä½œä¸ºä¸€æ¬¾ä»£ç†è½¯ä»¶å°±å¤©ç„¶çš„æä¾›äº†èµ„æºä»£ç†è¿™æ ·çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨ã€‚

### æ¡ˆä¾‹å®ç°ï¼š

**æˆ‘ä»¬çš„ç›®çš„æ˜¯å°†æ˜é‡‘ç”¨æˆ·é¦–é¡µçš„æ–‡ç« åˆ—è¡¨å¢åŠ ä¸€ä¸ª VIP çš„æ ‡è¯†ï¼š**

1.  æŠ“å–ä¸€ä»½åŸæœ‰çš„åˆ—è¡¨æ•°æ®ï¼›
2.  ä¿®æ”¹æ•°æ®åä¿å­˜åˆ°æ–‡ä»¶ï¼›
3.  é€‰ä¸­æˆ‘ä»¬è¦æ˜ å°„èµ„æºçš„æ¥å£å³é”®èœå•é€‰æ‹©ã€Map Localã€‘æ‰“å¼€ä¸‹é¢çš„çª—å£ï¼›
4.  å¡«å†™å„é¡¹åŒ¹é…å‚æ•°ï¼Œå…³é”®è¦é€‰ä¸­æˆ‘ä»¬ç¼–è¾‘è¿‡çš„æ•°æ®æ–‡ä»¶ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4b9c8f7c9a94429a1ef88ea4805cf5c~tplv-k3u1fbpfcp-zoom-1.image)

**å¤„ç†èµ„æºæ˜ å°„åå‡ºç°çš„è·¨åŸŸæƒ…å†µï¼š**

&ensp;&ensp;&ensp;&ensp;åœ¨å¿«æ·èœå•åŒºåŸŸçš„Rewirteä»…ä»…æ˜¯å¼€å…³ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ã€Toolsã€‘=>ã€Rewirte Settingsã€‘ä¸­æ‰“å¼€ç¼–è¾‘çª—å£è¿›è¡Œè·¨åŸŸçš„è¯·æ±‚é…ç½®ï¼Œä½ éœ€è¦ç‚¹å‡» ã€Addã€‘æ¥ä¸ºä½ çš„é…ç½®èµ·ä¸ªåå­—ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/478b53a335eb4edc86ccca24cd9664ef~tplv-k3u1fbpfcp-zoom-1.image)

æˆ‘ä»¬éœ€è¦åœ¨å³ä¾§ä¸Šæ–¹çš„çª—å£é…ç½®éœ€è¦å…è®¸è·¨åŸŸè®¿é—®çš„åœ°å€è§„åˆ™ï¼Œåœ¨å³ä¾§ä¸‹æ–¹çš„çª—å£é…ç½®å…è®¸è·¨åŸŸçš„å“åº”å¤´å­—æ®µï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7f7dff41bea47b8b40b2d125258ba0e~tplv-k3u1fbpfcp-zoom-1.image)

è¯·æ³¨æ„å„ä¸ªèœå•çš„å€¼ï¼Œæˆ‘ä»¬éœ€è¦æ–°å¢ä¸€ä¸ª headerï¼Œå¹¶é‡å†™åˆ°å“åº”ä¸­ï¼Œæ›¿æ¢æˆ‘ä»¬ç»™å®šçš„ header å­—æ®µä¸ºç‰¹å®šçš„å€¼ï¼š

-   å…è®¸è·¨åŸŸè¯·æ±‚çš„åŸŸï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f0bb36db536440989d2f572d4d182681~tplv-k3u1fbpfcp-zoom-1.image)

-   å…è®¸å¸¦ä¸Šcookieè¯·æ±‚ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e9a3812cad44086b7872f930aa4f768~tplv-k3u1fbpfcp-zoom-1.image)

-   å…è®¸è¯·æ±‚çš„headerï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52563c9af4f94b479f01b94c825aedca~tplv-k3u1fbpfcp-zoom-1.image)

åœ¨ç»è¿‡èµ„æºæ˜ å°„å’Œæ”¾å¼€è·¨åŸŸè®¿é—®åï¼Œæˆ‘ä»¬çš„é¡µé¢æ¸²æŸ“çš„æ•°æ®å°±æ˜¯æˆ‘ä»¬æ‰‹å·¥ä¿®æ”¹è¿‡çš„ç‰¹æ®Šæ•°æ®äº†ï¼Œæœ‰æ³¨æ„åˆ°æ–‡ç« åç§°å‰é¢çš„ **VIP** æ²¡ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cead2d6c40714441b637e7526c656435~tplv-k3u1fbpfcp-zoom-1.image)

### è·¨åŸŸè¯´æ˜ï¼š

åœ¨ç½‘ç»œä¸Šä½ ä¼šæ‰¾åˆ°ä¸€ç³»åˆ—çš„å¤„ç†è·¨åŸŸçš„ç­”æ¡ˆï¼Œå…‰åœ¨ nginx ä¸­çš„é…ç½®å°±èƒ½æœåˆ°å¾ˆå¤šï¼Œäº”èŠ±å…«é—¨çš„ç­”æ¡ˆï¼Œéƒ½æ˜¯æ­£ç¡®çš„ä¹Ÿéƒ½æ˜¯é”™è¯¯çš„ï¼Œheader çš„é…ç½®è¦æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µè€ƒè™‘æ¥åšå‡ºç›¸åº”çš„é…ç½®ï¼Œå°±æ¯”å¦‚è¯´åœ¨ç½‘ä¸Šæ‰¾åˆ°çš„ä¸‹é¢è¿™ä»½é…ç½®ï¼š

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e4ba817321ee4d7c9e5bcaaead74e04e~tplv-k3u1fbpfcp-zoom-1.image)

&ensp;&ensp;&ensp;&ensp;çœ‹ä¼¼éƒ½é€šç”¨çš„æ ‡è¯†ï¼Œé‚£æ˜¯ä¸æ˜¯åº”è¯¥å¯ä»¥æ»¡è¶³æˆ‘è¿™æ¬¡æ”¾å¼€è·¨åŸŸçš„è¦æ±‚å‘¢ï¼Ÿç­”æ¡ˆçš„ä¸å¯ä»¥ï¼ŒæŒ‰ä¸Šé¢çš„é…ç½®ä½ ä¼šçœ‹åˆ°ä¸‹é¢çš„é”™è¯¯æç¤ºï¼Œè¯´è¿™æ¬¡ä¸å…è®¸ä½¿ç”¨é€šé…ç¬¦ï¼Œæˆ‘ä»¬å°±åªèƒ½æ”¹æˆç‰¹å®šçš„ origin å’¯ï¼ŒåŒ…æ‹¬å…è®¸è¯·æ±‚çš„ header çš„é…ç½®åŒæ ·ä¸å…è®¸ä½¿ç”¨é€šé…ç¬¦ï¼Œè¦ä½¿ç”¨â€œ**reqid, nid, host, x-real-ip, x-forwarded-ip, event-type, event-id, accept, content-type**â€ã€‚

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/737c6a10b04243a4878b2f35a3ebb5ae~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/33a486bb9119409aa5f1b26c5377d2ba~tplv-k3u1fbpfcp-zoom-1.image)

* * *

**å¦‚æœçœ‹å®Œè§‰å¾—æœ‰æ”¶è·ï¼Œæ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«æ”¯æŒä¸€ä¸‹ã€‚ä½ çš„æ”¯æŒå’Œè‚¯å®šï¼Œæ˜¯æˆ‘åšæŒå†™ä½œçš„åŠ¨åŠ›~**

æœ€åå¯ä»¥å…³æ³¨æˆ‘@å°é‘«åŒå­¦ã€‚æ¬¢è¿[ç‚¹æ­¤æ‰«ç åŠ æˆ‘å¾®ä¿¡](https://it200.cn/ "https://it200.cn/")[fe-xiaoxin](https://it200.cn/ "https://it200.cn/")äº¤æµï¼Œå…±åŒè¿›æ­¥ï¼ˆè¿˜å¯ä»¥å¸®ä½ **fix**ğŸ›ï¼‰~