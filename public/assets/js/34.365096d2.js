(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{424:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"环境-ubuntu-14-04-3-预装python3-4"}},[t._v("环境：ubuntu-14.04.3(预装python3.4)")]),t._v(" "),s("h4",{attrs:{id:"_1-flask-web框架"}},[t._v("1.flask(Web框架)")]),t._v(" "),s("h4",{attrs:{id:"_2-gunicorn-python-wsgi-http-server"}},[t._v("2.gunicorn(python Wsgi http server)")]),t._v(" "),s("h5",{attrs:{id:"_1-安装"}},[t._v("1.安装")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    sudo pip3 install gunicorn\n")])])]),s("h5",{attrs:{id:"_2-修改入口文件"}},[t._v("2.修改入口文件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("      from werkzeug.contrib.fixers import ProxyFix\n      app.wsgi_app = ProxyFix(app.wsgi_app)\n      app.run()\n")])])]),s("h5",{attrs:{id:"_3-启动"}},[t._v("3.启动")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    gunicorn -w 4 -b 127.0.0.1:8000 入口文件名:应用实例\n")])])]),s("h4",{attrs:{id:"_3-upstart-服务进程管理"}},[t._v("3.upstart(服务进程管理)")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    myapp.conf (开机启动)\n        '''\n            description \"flask app\"\n\n            start on runlevel [2345]\n            stop on runlevel [!2345]\n\n            respawn\n            setuid root\n            setgid www-data\n\n            chdir /home/zhangxin/PycharmProjects/flaskApp # 指令被执行的目录\n\n            exec gunicorn -b 0.0.0.0:8000 app:app\n        '''\n    1.目录： cd /etc/init\n    2.启动：sudo start myapp\n    3.状态：sudo status myapp\n    4.停止：sudo stop myapp\n    5.重启：sudo restart myapp\n")])])]),s("h4",{attrs:{id:"_4-nginx-代理服务"}},[t._v("4.nginx(代理服务)")]),t._v(" "),s("h5",{attrs:{id:"_1-安装-2"}},[t._v("1.安装")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    sudo apt-get install nginx\n\n    /etc/nginx/sites-available\n\n    sudo nano default\n    '''\n        server {\n            listen 8899;\n            server_name 127.0.0.1;\n            location / {\n               proxy_pass  http://127.0.0.1:8000;\n               proxy_set_header Host $host;\n               proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            }\n        }\n    '''\n")])])]),s("h5",{attrs:{id:"_2-重启"}},[t._v("2.重启")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    sudo service nginx restart\n")])])]),s("h4",{attrs:{id:"_5-修改pip镜像地址"}},[t._v("5.修改pip镜像地址：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    /home/<username>/.pip/pip.conf\n    [global]\n    index-url = http://mirrors.aliyun.com/pypi/simple/\n")])])]),s("h4",{attrs:{id:"_6-安装-pip3"}},[t._v("6.安装 pip3")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    sudo apt-get install python3-pip\n")])])]),s("h4",{attrs:{id:"_7-pipreqs"}},[t._v("7.pipreqs")]),t._v(" "),s("h5",{attrs:{id:"_1-安装-3"}},[t._v("1.安装")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    sudo pip3 install pipreqs\n")])])]),s("h5",{attrs:{id:"_2-生成"}},[t._v("2.生成")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    pip3 freeze > requirements.txt\n")])])]),s("h5",{attrs:{id:"_3-执行"}},[t._v("3.执行")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("    sudo pip3 install -r requirements.txt\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);