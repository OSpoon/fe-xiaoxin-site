(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{404:function(t,n,s){"use strict";s.r(n);var e=s(2),a=Object(e.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[t._v("æˆ‘æƒ³åœ¨æ˜é‡‘é€›äº†ä¸€æ®µæ—¶é—´çš„æœ‹å‹æœ‰çœ‹åˆ°å…³äºè‡ªåŠ¨ç­¾åˆ°ç­‰ç›¸å…³çš„æ–‡ç« å§ï¼Œè¿™é‡Œå½“ç„¶ä¸æ˜¯è®²è‡ªåŠ¨ç­¾åˆ°äº†ï¼Œä¸»è¦æ˜¯è¯´è¯´åœ¨ç­¾åˆ°å®Œåå¦‚ä½•é€šçŸ¥åˆ°æˆ‘ä»¬ç­¾åˆ°çš„ç»“æœã€‚åœ¨ä¸€äº›æ–‡ç« ä¸­æˆ‘çœ‹åˆ°æœ‰äººä¼šä½¿ç”¨"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fsct.ftqq.com%2F",title:"https://sct.ftqq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Serveré…±"),n("OutboundLink")],1),t._v("ï¼ˆä¸€ä¸ªé›†æˆäº†å¤šç§æ¶ˆæ¯æ¸ é“çš„æ¨é€æœåŠ¡ï¼‰ï¼Œè¿˜æœ‰è‡ªå·±ç›´æ¥å¯¹æ¥ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ç¾¤æœºå™¨äººçš„ï¼Œå¯¹äºä¸ä½¿ç”¨ä¼å¾®æˆ–é’‰é’‰çš„æœ‹å‹å°±éœ€è¦å®‰è£…å¯¹åº”çš„è½¯ä»¶æ‰å¯ä»¥å®ç°ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›ä¸“é—¨æ¥æ”¶æ¶ˆæ¯é€šçŸ¥çš„"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Feasychen%2Fpushdeer",title:"https://github.com/easychen/pushdeer",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¼€æºé¡¹ç›®"),n("OutboundLink")],1),t._v("ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹~")])]),t._v(" "),n("h2",{attrs:{id:"_1-å‰è¨€"}},[t._v("1. å‰è¨€")]),t._v(" "),n("hr"),t._v(" "),n("blockquote",[n("p",[t._v("å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯"),n("a",{attrs:{href:"https://juejin.cn/user/3966693685871694",title:"https://juejin.cn/user/3966693685871694",target:"_blank",rel:"noopener noreferrer"}},[t._v("å°é‘«åŒå­¦"),n("OutboundLink")],1),t._v("ã€‚ä¸€ä½ä»äº‹è¿‡"),n("strong",[t._v("Androidå¼€å‘")]),t._v("ã€"),n("strong",[t._v("æ··åˆå¼€å‘")]),t._v("ï¼Œç°åœ¨é•¿æœŸä»äº‹"),n("strong",[t._v("å‰ç«¯å¼€å‘")]),t._v("çš„ç¼–ç¨‹çˆ±å¥½è€…ï¼Œ"),n("strong",[t._v("æˆ‘è§‰å¾—åœ¨ç¼–ç¨‹ä¹‹è·¯ä¸Šæœ€é‡è¦çš„æ˜¯çŸ¥è¯†çš„åˆ†äº«ï¼Œæ‰€è°“ä¸‰äººè¡Œå¿…æœ‰æˆ‘å¸ˆ")]),t._v("ã€‚æ‰€ä»¥æˆ‘å¼€å§‹åœ¨ç¤¾åŒºæŒç»­è¾“å‡ºæˆ‘æ‰€äº†è§£åˆ°ã€å­¦ä¹ åˆ°ã€å·¥ä½œä¸­é‡åˆ°çš„å„ç§ç¼–ç¨‹çŸ¥è¯†ï¼Œæ¬¢è¿æœ‰æƒ³æ³•ã€æœ‰åŒæ„Ÿçš„ä¼™ä¼´åŠ æˆ‘"),n("a",{attrs:{href:"https://juejin.cn/pin/7126196941574111262",title:"https://juejin.cn/pin/7126196941574111262",target:"_blank",rel:"noopener noreferrer"}},[t._v("fe-xiaoxin"),n("OutboundLink")],1),t._v("å¾®ä¿¡äº¤æµ~")])]),t._v(" "),n("p",[t._v("æˆ‘æƒ³åœ¨æ˜é‡‘é€›äº†ä¸€æ®µæ—¶é—´çš„æœ‹å‹æœ‰çœ‹åˆ°å…³äºè‡ªåŠ¨ç­¾åˆ°ç­‰ç›¸å…³çš„æ–‡ç« å§ï¼Œè¿™é‡Œå½“ç„¶ä¸æ˜¯è®²è‡ªåŠ¨ç­¾åˆ°äº†ï¼Œä¸»è¦æ˜¯è¯´è¯´åœ¨ç­¾åˆ°å®Œåå¦‚ä½•é€šçŸ¥åˆ°æˆ‘ä»¬ç­¾åˆ°çš„ç»“æœã€‚åœ¨ä¸€äº›æ–‡ç« ä¸­æˆ‘çœ‹åˆ°æœ‰äººä¼šä½¿ç”¨"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fsct.ftqq.com%2F",title:"https://sct.ftqq.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Serveré…±"),n("OutboundLink")],1),t._v("ï¼ˆä¸€ä¸ªé›†æˆäº†å¤šç§æ¶ˆæ¯æ¸ é“çš„æ¨é€æœåŠ¡ï¼‰ï¼Œè¿˜æœ‰è‡ªå·±ç›´æ¥å¯¹æ¥ä¼ä¸šå¾®ä¿¡ã€é’‰é’‰ç¾¤æœºå™¨äººçš„ï¼Œå¯¹äºä¸ä½¿ç”¨ä¼å¾®æˆ–é’‰é’‰çš„æœ‹å‹å°±éœ€è¦å®‰è£…å¯¹åº”çš„è½¯ä»¶æ‰å¯ä»¥å®ç°ã€‚å½“ç„¶è¿˜æœ‰ä¸€äº›ä¸“é—¨æ¥æ”¶æ¶ˆæ¯é€šçŸ¥çš„"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Feasychen%2Fpushdeer",title:"https://github.com/easychen/pushdeer",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¼€æºé¡¹ç›®"),n("OutboundLink")],1),t._v("ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹~")]),t._v(" "),n("p",[t._v("ç°åœ¨æˆ‘ä»¬çš„å¾®ä¿¡éƒ½å…³æ³¨äº†ä¸çŸ¥é“å¤šå°‘ä¸ªå…¬ä¼—å·äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸é˜²å°±å¤šå…³æ³¨ä¸€ä¸ªå…¬ä¼—å·ï¼ˆæµ‹è¯•ï¼‰æ¥æ¥æ”¶é€šçŸ¥ï¼ˆæ€»æ¯”å¤šå®‰è£…ä¸€ä¸ªAppå¥½äº›å§ï¼Œé’‰é’‰å’Œä¼å¾®ä¸‹ç­ä½ æ„¿æ„å¬åˆ°å®ƒçš„å£°éŸ³ï¼Ÿï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨"),n("a",{attrs:{href:"https://juejin.cn/post/7124455454603739166",title:"https://juejin.cn/post/7124455454603739166",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€å…¨å¹²ã€‘ä»é›¶æå®šå¾®ä¿¡SDKæˆæƒ"),n("OutboundLink")],1),t._v("çš„åŸºç¡€ä¸Šç»§ç»­ä½¿ç”¨å…¬ä¼—å·æä¾›çš„æ¨¡æ¿æ¶ˆæ¯æ¥å®ç°ç­¾åˆ°åæ¨é€ç»“æœçš„ç›®æ ‡~")]),t._v(" "),n("h2",{attrs:{id:"_2-æ‹‰å–æºä»£ç å¹¶å¯åŠ¨"}},[t._v("2. æ‹‰å–æºä»£ç å¹¶å¯åŠ¨")]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[t._v("æ‹‰å–ä¸Šç¯‡æ–‡ç« æä¾›çš„"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FOSpoon%2Fwechat4node",title:"https://github.com/OSpoon/wechat4node",target:"_blank",rel:"noopener noreferrer"}},[t._v("æºä»£ç "),n("OutboundLink")],1),t._v("ï¼›")]),t._v(" "),n("li",[t._v("é…ç½®natappéš§é“å¯¹åº”çš„authtokenï¼›")]),t._v(" "),n("li",[t._v("é…ç½®"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fdebug%2Fcgi-bin%2Fsandboxinfo%3Faction%3Dshowinfo%26t%3Dsandbox%2Findex",title:"https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&t=sandbox/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµ‹è¯•å…¬ä¼—å·"),n("OutboundLink")],1),t._v("ä¿¡æ¯åˆ°"),n("code",[t._v("app\\service\\WeChat.ts")]),t._v("ï¼›")]),t._v(" "),n("li",[t._v("åŒå‡»natappå¯åŠ¨ç©¿é€ï¼Œæ‰§è¡Œ"),n("code",[t._v("yarn dev")]),t._v("å¯åŠ¨åç«¯æœåŠ¡ï¼›")])]),t._v(" "),n("h2",{attrs:{id:"_3-æ–°å¢æ¶ˆæ¯æµ‹è¯•æ¨¡æ¿"}},[t._v("3. æ–°å¢æ¶ˆæ¯æµ‹è¯•æ¨¡æ¿")]),t._v(" "),n("hr"),t._v(" "),n("blockquote",[n("p",[t._v("æµ‹è¯•å…¬ä¼—å·çš„æ¨¡æ¿å†…å®¹æ›´ä¸ºè‡ªç”±ï¼Œå¯¹äºå¼€å‘è€…ä½¿ç”¨æ¥è¯´å†åˆé€‚ä¸è¿‡äº†~")])]),t._v(" "),n("ol",[n("li",[t._v("æ¨¡æ¿æ ‡é¢˜ï¼šæ²¡æœ‰è¿‡å¤šé™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é”®å…¥å¦‚ï¼šè‡ªåŠ¨åŒ–ç­¾åˆ°é€šçŸ¥ï¼›")]),t._v(" "),n("li",[t._v("æ¨¡æ¿å†…å®¹ï¼šå‰é¢è¯´äº†å†…å®¹ç›¸å¯¹è‡ªç”±ï¼Œä½†å†…å®¹çš„å ä½å˜é‡æœ‰è¦æ±‚ï¼Œä¾‹å¦‚æˆ‘ä»¬éœ€è¦å°†å¹³å°çš„æ¥æºformå½“åšå˜é‡æ¥ä¼ é€’åˆ°æ¨¡æ¿å†…å®¹ä¸­ï¼Œæˆ‘ä»¬å°±éœ€è¦è¿™æ ·å†™")])]),t._v(" "),n("div",{staticClass:"language-JavaScript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" form"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("æ³¨æ„ "),n("strong",[t._v("å˜é‡.DATA")]),t._v(" ä¸ºå›ºå®šå†™æ³•ã€‚")]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("ä¸‹é¢æ˜¯æˆ‘ä»¬è¿™æ¬¡æ‰€ä½¿ç”¨çš„æ¨¡æ¿å†…å®¹ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š")])]),t._v(" "),n("div",{staticClass:"language-JavaScript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("å¹³å°ï¼š"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("from"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\næ—¶é—´ï¼š"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("date"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nç»“æœï¼š"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DATA")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("h2",{attrs:{id:"_4-æ¨¡æ¿æ¶ˆæ¯æ¥å£å¯¹æ¥"}},[t._v("4. æ¨¡æ¿æ¶ˆæ¯æ¥å£å¯¹æ¥")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("åœ¨"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fdebug%2Fcgi-bin%2Fsandboxinfo%3Faction%3Dshowinfo%26t%3Dsandbox%2Findex",title:"https://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&t=sandbox/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµ‹è¯•å…¬ä¼—å·"),n("OutboundLink")],1),t._v("é¡µé¢çš„"),n("strong",[t._v("ä½“éªŒæ¥å£æƒé™è¡¨")]),t._v("ä¸­æ‰¾åˆ°"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fdebug%2Fcgi-bin%2Freadtmpl%3Ft%3Dtmplmsg%2Ffaq_tmpl",title:"https://mp.weixin.qq.com/debug/cgi-bin/readtmpl?t=tmplmsg/faq_tmpl",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¨¡æ¿æ¶ˆæ¯ï¼ˆä¸šåŠ¡é€šçŸ¥ï¼‰"),n("OutboundLink")],1),t._v("ï¼›")]),t._v(" "),n("h3",{attrs:{id:"_4-1äº†è§£æ¥å£çš„ä½¿ç”¨"}},[t._v("4.1äº†è§£æ¥å£çš„ä½¿ç”¨")]),t._v(" "),n("ol",[n("li",[t._v("è·å–"),n("strong",[t._v("template_id")]),t._v("ï¼šè¿™ä¸ªå‚æ•°åœ¨æ–°å»ºæµ‹è¯•æ¨¡æ¿ååœ¨æ¶ˆæ¯æ¨¡æ¿åˆ—è¡¨æœ‰æ˜¾ç¤ºå¯¹åº”æ¨¡æ¿IDï¼›")]),t._v(" "),n("li",[t._v("æ¥å£åœ°å€ï¼š"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fapi.weixin.qq.com%2Fcgi-bin%2Fmessage%2Ftemplate%2Fsend%3Faccess_token%3DACCESS_TOKEN",title:"https://api.weixin.qq.com/cgi-bin/message/template/send?access_token=ACCESS_TOKEN",target:"_blank",rel:"noopener noreferrer"}},[t._v("api.weixin.qq.com/cgi-bin/mesâ€¦"),n("OutboundLink")],1),t._v("ï¼›")]),t._v(" "),n("li",[t._v("è¯·æ±‚æ–¹å¼ï¼š"),n("strong",[t._v("POST")]),t._v("ï¼›")]),t._v(" "),n("li",[t._v("å‚æ•°æ ¼å¼ï¼šæŒ‡é€šè¿‡dataä¼ é€’çš„å‚æ•°ï¼Œéœ€è¦æ˜¯jsonæ ¼å¼ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®headersä¿¡æ¯"),n("code",[t._v("{ 'content-type': 'application/json' }")]),t._v("ï¼›")]),t._v(" "),n("li",[t._v("æŸ¥è¯¢å‚æ•°ï¼šaccess_tokenï¼Œåœ¨ä¸Šä¸€ç¯‡çš„ä¸€å¼€å§‹æˆ‘ä»¬å°±è·å–äº†ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šç›´æ¥ä½¿ç”¨å†™å¥½çš„æ–¹æ³•ï¼›")]),t._v(" "),n("li",[t._v("è¯·æ±‚å‚æ•°ï¼šé€šè¿‡è¡¨æ ¼æ¥ä»‹ç»ï¼š")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th"),t._v(" "),n("th"),t._v(" "),n("th")])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("å‚æ•°")]),t._v(" "),n("td",[t._v("ç±»å‹/äºŒçº§å‚æ•°")]),t._v(" "),n("td",[t._v("è¯´æ˜")])]),t._v(" "),n("tr",[n("td",[t._v("touser")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("å‘é€åˆ°çš„ç”¨æˆ·IDï¼Œåœ¨å¾®ä¿¡ä¸­openidæ˜¯ä½œä¸ºç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ï¼Œåœ¨æµ‹è¯•å…¬ä¼—å·å¹³å°æˆ‘ä»¬æ‰«ç å…³æ³¨æµ‹è¯•å·åä¼šè·å¾—")])]),t._v(" "),n("tr",[n("td",[t._v("template_id")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("æ¨¡æ¿IDï¼Œå‰é¢æˆ‘ä»¬ä¹Ÿæåˆ°äº†è·å–çš„ä½ç½®")])]),t._v(" "),n("tr",[n("td",[t._v("url")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("è¿™ä¸ªurlå¯ä»¥å¡«å†™æˆ‘ä»¬ç¤¾åŒºçš„ä¸ªäººä¸»é¡µï¼Œå¦‚æˆ‘çš„æ˜é‡‘ï¼š"),n("a",{attrs:{href:"https://juejin.cn/user/3966693685871694",title:"https://juejin.cn/user/3966693685871694",target:"_blank",rel:"noopener noreferrer"}},[t._v("juejin.cn/user/396669â€¦"),n("OutboundLink")],1)])]),t._v(" "),n("tr",[n("td",[t._v("topcolor")]),t._v(" "),n("td",[t._v("string")]),t._v(" "),n("td",[t._v("é¢œè‰²ä¸é‡è¦ï¼Œå“ˆå“ˆ~")])]),t._v(" "),n("tr",[n("td",[t._v("data")]),t._v(" "),n("td",[t._v("object")]),t._v(" "),n("td",[t._v("dataç±»å‹ä¸ºå¯¹è±¡ï¼Œæ¥åŒ…è£…æ¨¡æ¿å†…å®¹ä¸­è®¾ç½®çš„å˜é‡ï¼Œæ³¨æ„"),n("strong",[t._v("äºŒçº§å‚æ•°è¿˜æœ‰ä»ä¸ºå¯¹è±¡")])])]),t._v(" "),n("tr",[n("td",[t._v("-")]),t._v(" "),n("td",[t._v("from: { value: string, color: string}")]),t._v(" "),n("td",[t._v("é€šçŸ¥æ¥è‡ªå“ªä¸ªå¹³å°ï¼Œå¦‚æˆ‘ä»¬è¿™æ¬¡çš„é€šçŸ¥å¹³å°æ¥è‡ªæ˜é‡‘")])]),t._v(" "),n("tr",[n("td",[t._v("-")]),t._v(" "),n("td",[t._v("date: { value: string, color: string}")]),t._v(" "),n("td",[t._v("é€šçŸ¥å‘é€çš„æ—¶é—´")])]),t._v(" "),n("tr",[n("td",[t._v("-")]),t._v(" "),n("td",[t._v("result: { value: string, color: string}")]),t._v(" "),n("td",[t._v("é€šçŸ¥å‘é€çš„ç»“æœ")])])])]),t._v(" "),n("h3",{attrs:{id:"_4-2-ç¼–å†™controller-é…ç½®è·¯ç”±"}},[t._v("4.2 ç¼–å†™Controllerï¼Œé…ç½®è·¯ç”±")]),t._v(" "),n("ol",[n("li",[t._v("é€šè¿‡bodyæ¥æ”¶å®¢æˆ·ç«¯ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰ä¼ é€’çš„å¹³å°æ¥æºå’Œç­¾åˆ°ç»“æœï¼›")]),t._v(" "),n("li",[t._v("é€šè¿‡å°†ä¿¡æ¯ä¼ é€’åˆ°Serviceæä¾›"),n("code",[t._v("sendSignTemplate")]),t._v("æ¥å‘èµ·æ¶ˆæ¯é€šçŸ¥ï¼›")])]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("public async jueJinSignNotice() {\n  const { ctx } = this;\n  const { from, result } = ctx.request.body;\n  ctx.body = await ctx.service.weChat.sendSignTemplate(from, result);\n}\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("3ã€‚ é…ç½®è·¯ç”±ä¿¡æ¯ï¼Œæ³¨æ„æ¥å£ç±»å‹ä¸º"),n("strong",[t._v("POST")]),t._v("ï¼›")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("router.post('/juejin-sign-notice', controller.home.jueJinSignNotice);\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("h3",{attrs:{id:"_4-3-åœ¨serviceç¼–å†™sendtemplateå’Œsendsigntemplateä¸¤ä¸ªå‡½æ•°"}},[t._v("4.3 åœ¨Serviceç¼–å†™sendTemplateå’ŒsendSignTemplateä¸¤ä¸ªå‡½æ•°")]),t._v(" "),n("p",[n("strong",[t._v("sendSignTemplate")]),t._v("è´Ÿè´£ç»„è£…æ¨¡æ¿å†…å®¹æ‰€éœ€è¦çš„å˜é‡ï¼Œæ•°æ®å†…å®¹é€šè¿‡å®¢æˆ·ç«¯è°ƒç”¨Controlleræ¥æä¾›ï¼ŒNodeJsä¸­çš„æ—¶é—´è¯·é€šè¿‡toLocaleStringè·å¾—æœ¬åœ°æ—¶é—´ï¼Œé»˜è®¤new Date()åœ¨NodeJsç¯å¢ƒæœ‰8å°æ—¶æ—¶å·®ï¼Œåœ¨åšæ—¶é—´æ¯”è¾ƒçš„æ—¶å€™éœ€è¦ç‰¹åˆ«å…³æ³¨ä¸€ä¸‹~")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("public async sendSignTemplate(from: string, result: string) {\n    return await this.sendTemplate({\n      from: {\n        value: from,\n        color: '#173177',\n      },\n      date: {\n        value: new Date().toLocaleString(),\n        color: '#173177',\n      },\n      result: {\n        value: result,\n        color: '#173177',\n      },\n    });\n  }\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br")])]),n("p",[n("strong",[t._v("sendTemplate")]),t._v("è´Ÿè´£å°†ç»„è£…å¥½çš„æ¨¡æ¿å†…å®¹å‘é€åˆ°æŒ‡å®šçš„ç”¨æˆ·ï¼Œæ›´å¤šçš„æ¨¡æ¿æˆ‘ä»¬å¯ä»¥å¤ç”¨è¿™ä¸€ä¸ªå‡½æ•°~")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("  public async sendTemplate(_data: any) {\n    const { ctx } = this;\n    const request = async () => {\n      const { access_token } = await this.getToken();\n      const { data } = await ctx.curl(\n        `${URL_TEMPLATE}?access_token=${access_token}`,\n        {\n          dataType: 'json',\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json',\n          },\n          data: {\n            touser: '',\n            template_id: '',\n            url: 'https://juejin.cn/user/3966693685871694',\n            topcolor: '#FF0000',\n            data: _data,\n          },\n        },\n      );\n      console.log('[ data ] >', data);\n      return data;\n    };\n    return await request();\n  }\n\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br")])]),n("h2",{attrs:{id:"_5-éªŒè¯æˆ‘ä»¬çš„æ¥å£æ˜¯å¦å¯ç”¨"}},[t._v("5. éªŒè¯æˆ‘ä»¬çš„æ¥å£æ˜¯å¦å¯ç”¨")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("æˆ‘ç”µè„‘å¿…å¤‡è½¯ä»¶uToolsï¼Œå¯¹äºä¸å¼ºä¾èµ–postmanå·¥ä½œçš„å°ä¼™ä¼´æ¥è¯´ç®€å•ä¸€æ¬¾å°æ’ä»¶å°±èƒ½æå®š")]),t._v(" "),n("ol",[n("li",[t._v("alt+ç©ºæ ¼å‘¼å‡ºuToolså¹¶åœ¨è¾“å…¥æ¡†é”®å…¥httpï¼ˆå›¾ä¸€ï¼‰ï¼š")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77e2545be54f4871ae9032569e92f69d~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?",alt:"image.png"}})]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("æŒ‰å›è½¦åè¿›å…¥httpæ’ä»¶ç•Œé¢ï¼ˆå›¾äºŒï¼‰:")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d4d8899e9f849bc9844c742d73d69fc~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?",alt:"image.png"}})]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("ä¿®æ”¹è¯·æ±‚æ–¹å¼å¹¶é”®å…¥è¯·æ±‚åœ°å€å’Œå‚æ•°åç‚¹å‡»å°é£æœºå‘èµ·è¯·æ±‚ï¼ˆå›¾ä¸‰ï¼‰:")])]),t._v(" "),n("p",[n("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ccd307cb01a84ecf864d4176d6781062~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?",alt:"image.png"}})]),t._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[t._v("åˆ°å¾®ä¿¡å‘Šè¯‰æˆ‘ä»¬OKï¼Œè¯´æ˜è¿™ä¸€æ¬¡çš„æ¶ˆæ¯é€šçŸ¥å‘é€æˆåŠŸäº†ï¼Œçœ‹åˆ°æ‰‹æœºé€šçŸ¥æ çš„æ¶ˆæ¯äº†å—ï¼Ÿ")])]),t._v(" "),n("h2",{attrs:{id:"_6-æ€»ç»“"}},[t._v("6. æ€»ç»“")]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v("é€šè¿‡å€ŸåŠ©ä¸Šæ¬¡ç¼–å†™çš„æˆæƒä»£ç å®Œæˆäº†æµ‹è¯•å…¬ä¼—å·æ¨¡æ¿æ¶ˆæ¯æ¨é€çš„åŠŸèƒ½ï¼Œåœ¨åç»­é‡åˆ°è‡ªå·±çš„å®šæ—¶ä»»åŠ¡åšé€šçŸ¥çš„æ—¶å€™å®Œå…¨å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œç›¸æ¯”é‚®ä»¶é€šçŸ¥ï¼Œä¼å¾®é€šçŸ¥ï¼Œé’‰é’‰é€šçŸ¥ç­‰æ–¹å¼æ¥è¯´æˆ‘ä»¬è¦ä¸æ˜¯èŠ‚çœäº†Appçš„å®‰è£…è¦ä¸å°±æ˜¯é¿å…äº†å…¬ç§æ··æ­ä½¿ç”¨ï¼Œå› ä¸ºç°åœ¨ä»£ç ä»»åœ¨æœ¬åœ°ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰å¿…è¦å†æ¬¡æŠ½æ—¶é—´ä¸Šä¸€æŠŠ"),n("strong",[t._v("å‡½æ•°è®¡ç®—FCï¼ˆé˜¿é‡Œäº‘ï¼‰")]),t._v(" ï¼Œæ”¹å¤©è§~")]),t._v(" "),n("blockquote",[n("p",[t._v("æœ¬æ–‡é¡¹ç›®å·²æ¨é€è‡³GitHubï¼Œæ¬¢è¿å…‹éš†æ¼”ç¤ºï¼š"),n("code",[t._v("git clone https://github.com/OSpoon/wechat4node.git")])])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("å¦‚æœçœ‹å®Œè§‰å¾—æœ‰æ”¶è·ï¼Œæ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«æ”¯æŒä¸€ä¸‹ã€‚ä½ çš„æ”¯æŒå’Œè‚¯å®šï¼Œæ˜¯æˆ‘åšæŒå†™ä½œçš„åŠ¨åŠ›~")])]),t._v(" "),n("p",[t._v("æœ€åå¯ä»¥å…³æ³¨æˆ‘@å°é‘«åŒå­¦ã€‚æ¬¢è¿"),n("a",{attrs:{href:"https://juejin.cn/pin/7126196941574111262",title:"https://juejin.cn/pin/7126196941574111262",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç‚¹æ­¤æ‰«ç åŠ æˆ‘å¾®ä¿¡"),n("OutboundLink")],1),n("a",{attrs:{href:"https://juejin.cn/pin/7126196941574111262",title:"https://juejin.cn/pin/7126196941574111262",target:"_blank",rel:"noopener noreferrer"}},[t._v("fe-xiaoxin"),n("OutboundLink")],1),t._v("äº¤æµï¼Œå…±åŒè¿›æ­¥ï¼ˆè¿˜å¯ä»¥å¸®ä½ "),n("strong",[t._v("fix")]),t._v("ğŸ›ï¼‰~")])])}),[],!1,null,null,null);n.default=a.exports}}]);