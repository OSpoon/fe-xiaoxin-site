(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{406:function(e,n,s){"use strict";s.r(n);var t=s(2),a=Object(t.a)({},(function(){var e=this,n=e._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[e._v("在上一篇"),n("a",{attrs:{href:"https://juejin.cn/post/7129535563639554085",title:"https://juejin.cn/post/7129535563639554085",target:"_blank",rel:"noopener noreferrer"}},[e._v("【入门】你连Babel都不会配？那插件不成乱装了"),n("OutboundLink")],1),e._v("中讲述了 babel 的使用和插件/预设的配置，这一篇我想写写 Babel 插件开发的学习过程，在翻找资料的时候发现的这个可能已经过时的 CLI 工具， 那么就跟随我来快速搞定第一个 Babel 插件吧~")])]),e._v(" "),n("h2",{attrs:{id:"_1-前言"}},[e._v("1. 前言")]),e._v(" "),n("hr"),e._v(" "),n("p",[e._v("大家好，我是"),n("a",{attrs:{href:"https://juejin.cn/user/3966693685871694",title:"https://juejin.cn/user/3966693685871694",target:"_blank",rel:"noopener noreferrer"}},[e._v("小鑫同学"),n("OutboundLink")],1),e._v("。一位从事过"),n("strong",[e._v("Android开发")]),e._v("、"),n("strong",[e._v("混合开发")]),e._v("，现在长期从事"),n("strong",[e._v("前端开发")]),e._v("的编程爱好者，"),n("strong",[e._v("我觉得在编程之路上最重要的是知识的分享，所谓三人行必有我师")]),e._v("。所以我开始在社区持续输出我所了解到、学习到、工作中遇到的各种编程知识，欢迎有想法、有同感的伙伴加我"),n("a",{attrs:{href:"https://juejin.cn/pin/7126196941574111262",title:"https://juejin.cn/pin/7126196941574111262",target:"_blank",rel:"noopener noreferrer"}},[e._v("fe-xiaoxin"),n("OutboundLink")],1),e._v("微信交流~")]),e._v(" "),n("p",[e._v("在上一篇"),n("a",{attrs:{href:"https://juejin.cn/post/7129535563639554085",title:"https://juejin.cn/post/7129535563639554085",target:"_blank",rel:"noopener noreferrer"}},[e._v("【入门】你连Babel都不会配？那插件不成乱装了"),n("OutboundLink")],1),e._v("中讲述了 babel 的使用和插件/预设的配置，这一篇我想写写 Babel 插件开发的学习过程，在翻找资料的时候发现的这个可能已经过时的 CLI 工具， 那么就跟随我来快速搞定第一个 Babel 插件吧~")]),e._v(" "),n("h2",{attrs:{id:"_2-环境-资料准备"}},[e._v("2. 环境/资料准备？")]),e._v(" "),n("hr"),e._v(" "),n("h3",{attrs:{id:"_2-1-必备工具"}},[e._v("2.1 必备工具：")]),e._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FOSpoon%2Fgenerator-babel-plugin",title:"https://github.com/OSpoon/generator-babel-plugin",target:"_blank",rel:"noopener noreferrer"}},[n("strong",[e._v("babel-plugin-2")]),n("OutboundLink")],1),e._v("：插件开发套件（fork自"),n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fbabel%2Fgenerator-babel-plugin",title:"https://github.com/babel/generator-babel-plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("generator-babel-plugin"),n("OutboundLink")],1),e._v("）；")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fastexplorer.net%2F",title:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[n("strong",[e._v("AST Explorer")]),n("OutboundLink")],1),e._v("：抽象语法树在线分析；")])]),e._v(" "),n("h3",{attrs:{id:"_2-2-学习资料"}},[e._v("2.2 学习资料：")]),e._v(" "),n("ol",[n("li",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fbabeljs.io%2F",title:"https://babeljs.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("babeljs"),n("OutboundLink")],1),e._v("；")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fjamiebuilds%2Fbabel-handbook%2Fblob%2Fmaster%2Ftranslations%2Fzh-Hans%2Fplugin-handbook.md",title:"https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("plugin-handbook中文版"),n("OutboundLink")],1),e._v("；")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://juejin.cn/book/6946117847848321055?suid=3966693685871694&source=ios",title:"https://juejin.cn/book/6946117847848321055?suid=3966693685871694&source=ios",target:"_blank",rel:"noopener noreferrer"}},[e._v("Babel 插件通关秘籍"),n("OutboundLink")],1),e._v("；")])]),e._v(" "),n("h2",{attrs:{id:"_3-第一个-babel-插件"}},[e._v("3. 第一个 Babel 插件：")]),e._v(" "),n("hr"),e._v(" "),n("p",[n("strong",[e._v("对代码块中 console 在执行时可以输出所在的代码行数")]),e._v("，我们的例子也是 COPY 自 Babel 插件通过秘籍的第一个用例，也推荐详细去学习一下~")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("1. npm i -g yo generator-babel-plugin-x\n2. mkdir babel-plugin-clg-insert-line && cd babel-plugin-clg-insert-line\n3. yo babel-plugin-x\n4. 补充插件信息：\n    ? Plugin Name clg-insert-line\n    ? Description \n    ? GitHub username or organization \n    ? Author's Name \n    ? Author's Email \n    ? Key your keywords (comma to split)\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br")])]),n("p",[e._v("执行完上面的步骤后就生成了第一个拥有标准自述文档、测试用例的完整插件项目~")]),e._v(" "),n("h3",{attrs:{id:"_3-1-补充自述文档"}},[e._v("3.1 补充自述文档：")]),e._v(" "),n("p",[e._v("CLI 生成的自述文档包括范例、安装、使用的方式，我们只需要补充需要处理的代码和处理完成后的结果代码~")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("console.log(1);\n\nfunction func() {\n\tconsole.info(2);\n}\n\nexport default class Clazz {\n\tsay() {\n\t\tconsole.debug(3);\n\t}\n\trender() {\n\t\treturn <div>{console.error(4)}</div>;\n\t}\n}\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('console.log("line 1", 1);\n\nfunction func() {\n\tconsole.info("line 4", 2);\n}\n\nexport default class Clazz {\n\tsay() {\n\t\tconsole.debug("line 9", 3);\n\t}\n\trender() {\n\t\treturn <div>{console.error("line 12", 4)}</div>;\n\t}\n}\n\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br")])]),n("h3",{attrs:{id:"_3-2-完善测试用例"}},[e._v("3.2 完善测试用例：")]),e._v(" "),n("p",[e._v("在插件项目的"),n("code",[e._v("__tests__/fixtures/example")]),e._v("目录下生成了第一个测试用例，我们需要完善"),n("code",[e._v("actual.js")]),e._v("和"),n("code",[e._v("expected.js")]),e._v("，其实也是自述文档中补充的两块代码，我们编写后的插件在对"),n("code",[e._v("actual.js")]),e._v("的内容处理后的结果应该和"),n("code",[e._v("expected.js")]),e._v("的内容一致~")]),e._v(" "),n("h3",{attrs:{id:"_3-3-查看-ast-及分析"}},[e._v("3.3 查看 AST 及分析：")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fastexplorer.net%2F%23%2Fgist%2F763781d76b0d3f8486cdda748cd7dc39%2F232fda799045f748ecebbb5553589f722d15265b",title:"https://astexplorer.net/#/gist/763781d76b0d3f8486cdda748cd7dc39/232fda799045f748ecebbb5553589f722d15265b",target:"_blank",rel:"noopener noreferrer"}},[e._v("Astexplorer"),n("OutboundLink")],1),e._v("，我们在选中其中一条"),n("code",[e._v("console")]),e._v("语句后右侧窗口高亮了一片 "),n("strong",[e._v("ExpressionStatement")]),e._v(" 区域，我们需要的是被包裹在里面的调用表达式"),n("code",[e._v("CallExpression")]),e._v("，这"),n("code",[e._v("CallExpression")]),e._v("里面包含被调用表达式（"),n("code",[e._v("callee")]),e._v("） 调用参数（"),n("code",[e._v("arguments")]),e._v("）。")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a306784425a4200b6f9cbdbf09762af~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?",alt:"image.png"}})]),e._v(" "),n("ol",[n("li",[e._v("通过"),n("code",[e._v("callee")]),e._v("中包含的信息来判断是否符合我们要处理的位置；")]),e._v(" "),n("li",[e._v("读取"),n("code",[e._v("loc/start/line")]),e._v(" 属性可以得到当前调用表达式所在行号；")]),e._v(" "),n("li",[e._v("通过向"),n("code",[e._v("arguments")]),e._v("数组的第一位插入行号来完成目标；")])]),e._v(" "),n("h3",{attrs:{id:"_3-4-编写插件部分"}},[e._v("3.4 编写插件部分：")]),e._v(" "),n("h4",{attrs:{id:"_3-4-1-已提供的模板"}},[e._v("3.4.1 已提供的模板：")]),e._v(" "),n("p",[e._v("在这个插件模板中我们将需要被关注的表达式添加到"),n("strong",[e._v("visitor")]),e._v("对象中，当遍历到 AST 为我们关注的表达式时将会被执行，在 "),n("code",[e._v("t")]),e._v("中还包含了很多实用的工具待我们发掘~")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("export default function({types: t }) {\n  return {\n    visitor: {\n      \n    }\n  };\n}\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"_3-4-2-判断是否达到处理的表达式"}},[e._v("3.4.2 判断是否达到处理的表达式：")]),e._v(" "),n("ol",[n("li",[e._v("判断"),n("code",[e._v("callee")]),e._v("的类型是否符合"),n("code",[e._v("MemberExpression")]),e._v("；")]),e._v(" "),n("li",[e._v("判断"),n("code",[e._v("path.node.callee.object.name")]),e._v("是否为"),n("code",[e._v("console")]),e._v("；")]),e._v(" "),n("li",[e._v("判断"),n("code",[e._v("path.node.callee.property.name")]),e._v("是否包含"),n("code",[e._v("'log', 'info', 'error', 'debug'")]),e._v("；")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("CallExpression(path) {\n  if (t.isMemberExpression(path.node.callee)\n      && path.node.callee.object.name === 'console'\n      && ['log', 'info', 'error', 'debug'].includes(path.node.callee.property.name)\n     ) {\n    。。。\n  }\n}\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("h4",{attrs:{id:"_3-4-3-插入代码行号"}},[e._v("3.4.3 插入代码行号：")]),e._v(" "),n("p",[e._v("使用"),n("code",[e._v("t.stringLiteral(`line ${line}`)")]),e._v("来实现 AST 对象插入~")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const { line } = path.node.loc.start;\npath.node.arguments.unshift(t.stringLiteral(`line ${line}`))\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("h3",{attrs:{id:"_3-5-完善一处配置和一处更改"}},[e._v("3.5 完善一处配置和一处更改：")]),e._v(" "),n("h4",{attrs:{id:"_3-5-1-完善配置"}},[e._v("3.5.1 完善配置：")]),e._v(" "),n("p",[e._v("在待处理的源码中涉及到了 jsx 语法的处理，这里需要特殊配置才能支持，我们在调用插件的时候也就是测试用例的 babel 配置中处理就可以~")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('{\n  "plugins": [\n    ["../../../src"]\n  ],\n  // 补充支持 jsx\n  "parserOpts": {\n    "plugins": [\n      "jsx"\n    ]\n  }\n}\n\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br")])]),n("h4",{attrs:{id:"_3-5-2-完善更改"}},[e._v("3.5.2 完善更改：")]),e._v(" "),n("p",[e._v("在"),n("code",[e._v("transformFileSync")]),e._v("执行后会有一些代码风格的差异会影响到测试用例的结果，我们可以"),n("strong",[e._v("replace")]),e._v("掉这些空白字符~")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('expect(actual.trim().replace(/\\s/g,"")).toEqual(expected.trim().replace(/\\s/g,""));\n\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("h3",{attrs:{id:"_3-6-执行测试用例"}},[e._v("3.6 执行测试用例：")]),e._v(" "),n("p",[n("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c6bb74b301e4c4886cd7e7082c5f7d2~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image?",alt:"image.png"}})]),e._v(" "),n("h2",{attrs:{id:"_4-升级优化插件"}},[e._v("4. 升级优化插件：")]),e._v(" "),n("hr"),e._v(" "),n("h3",{attrs:{id:"_4-1-使用-babel-generator来将-ast-转为-code"}},[e._v("4.1 使用@babel/generator来将 AST 转为 Code：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('const generate = require("@babel/generator").default;\n\nexport default function ({ types: t }) {\n  return {\n    visitor: {\n      CallExpression(path) {\n        const calleeName = generate(path.node.callee).code;\n        consolg.log(calleeName);\n      }\n    }\n  };\n}\n\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("h3",{attrs:{id:"_4-2-遍历targetcalleename来优化判断逻辑"}},[e._v("4.2 遍历targetCalleeName来优化判断逻辑：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const generate = require(\"@babel/generator\").default;\nconst targetCalleeName = ['log', 'info', 'error', 'debug'].map(item => `console.${item}`);\n\nexport default function ({ types: t }) {\n  return {\n    visitor: {\n      CallExpression(path) {\n        const calleeName = generate(path.node.callee).code;\n        if (targetCalleeName.includes(calleeName)) {\n            const { line } = path.node.loc.start;\n            path.node.arguments.unshift(t.stringLiteral(`line ${line}`))\n        }\n      }\n    }\n  };\n}\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br")])]),n("h2",{attrs:{id:"_5-升级babel-plugin-x"}},[e._v("5. 升级babel-plugin-x：")]),e._v(" "),n("hr"),e._v(" "),n("p",[e._v("目前最近的Babel插件版本（v7+）都采用Ts编写，并且风格略有不同，在Ts中使用types相关的API也更加容易上手，所以更新后的Cli将支持这一风格的编写~")]),e._v(" "),n("h2",{attrs:{id:"_6-总结"}},[e._v("6. 总结")]),e._v(" "),n("hr"),e._v(" "),n("p",[e._v("通过使用 "),n("code",[e._v("yo babel-plugin-x")]),e._v(" 生成的插件模版来快速上手了第一个 babel插件，当你感受到了 babel 的作用后再去了解每个模块的作用，再去拆解每一块的功能也可能会更好~")]),e._v(" "),n("p",[n("code",[e._v("babel-plugin")]),e._v(" 源 "),n("code",[e._v("Cli")]),e._v(" 插件已经多年不维护了，有个 BUG 的 PR 一直没有合并导致没法使用，所以我推了一个 "),n("code",[e._v("babel-plugin-x")]),e._v("来使用~")]),e._v(" "),n("hr"),e._v(" "),n("p",[n("strong",[e._v("如果看完觉得有收获，欢迎点赞、评论、分享支持一下。你的支持和肯定，是我坚持写作的动力~")])]),e._v(" "),n("p",[e._v("最后可以关注我@小鑫同学。欢迎"),n("a",{attrs:{href:"https://juejin.cn/pin/7126196941574111262",title:"https://juejin.cn/pin/7126196941574111262",target:"_blank",rel:"noopener noreferrer"}},[e._v("点此扫码加我微信"),n("OutboundLink")],1),n("a",{attrs:{href:"https://juejin.cn/pin/7126196941574111262",title:"https://juejin.cn/pin/7126196941574111262",target:"_blank",rel:"noopener noreferrer"}},[e._v("fe-xiaoxin"),n("OutboundLink")],1),e._v("交流，共同进步（还可以帮你"),n("strong",[e._v("fix")]),e._v("🐛）~")])])}),[],!1,null,null,null);n.default=a.exports}}]);